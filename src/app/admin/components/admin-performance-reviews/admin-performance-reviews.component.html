<div class="performance-review-actions">
  <button
    nz-button
    nzType="default"
    class="action-button"
    (click)="visible = true; editMode = false"
  >
    <i nz-icon nzType="plus"></i>Create New
  </button>
</div>
<nz-spin [nzSpinning]="loadingReviews">
  <app-reviews-list
    (updateAssignees)="editMode = true; visible = true;currentReviewMeta=$event"
    [data]="allPerformanceReviews"
    [adminMode]="true"
  ></app-reviews-list>
</nz-spin>
<nz-drawer
  [nzBodyStyle]="{
    height: 'calc(100% - 55px)',
    overflow: 'auto',
    'padding-bottom': '53px'
  }"
  [nzMaskClosable]="false"
  [nzWidth]="720"
  [nzVisible]="visible"
  nzTitle="{{editMode?'Update':'Create'}} Review"
  (nzOnClose)="close()"
>
  <app-create-review
    *ngIf="visible"
    (closeDrawer)="visible = false; getAllPerformanceReviews()"
    [editMode]="editMode"
    [assignees]="currentReviewMeta.Assignees"
    [employeeId]="currentReviewMeta.EmployeeId"
    [employeeName]="currentReviewMeta.EmployeeName"
    [performanceReviewId]="currentReviewMeta.PerformanceReviewId"
  ></app-create-review>
</nz-drawer>
